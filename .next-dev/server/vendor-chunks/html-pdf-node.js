/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/html-pdf-node";
exports.ids = ["vendor-chunks/html-pdf-node"];
exports.modules = {

/***/ "(rsc)/./node_modules/html-pdf-node/index.js":
/*!*********************************************!*\
  !*** ./node_modules/html-pdf-node/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\r\nvar Promise = __webpack_require__(/*! bluebird */ \"(rsc)/./node_modules/bluebird/js/release/bluebird.js\");\r\nconst hb = __webpack_require__(/*! handlebars */ \"(rsc)/./node_modules/handlebars/lib/index.js\")\r\nconst inlineCss = __webpack_require__(/*! inline-css */ \"(rsc)/./node_modules/inline-css/index.js\")\r\nmodule.exports\r\nasync function generatePdf(file, options, callback) {\r\n  // we are using headless mode\r\n  let args = [\r\n    '--no-sandbox',\r\n    '--disable-setuid-sandbox',\r\n  ];\r\n  if(options.args) {\r\n    args = options.args;\r\n    delete options.args;\r\n  }\r\n\r\n  const browser = await puppeteer.launch({\r\n    args: args\r\n  });\r\n  const page = await browser.newPage();\r\n\r\n  if(file.content) {\r\n    data = await inlineCss(file.content, {url:\"/\"});\r\n    console.log(\"Compiling the template with handlebars\")\r\n    // we have compile our code with handlebars\r\n    const template = hb.compile(data, { strict: true });\r\n    const result = template(data);\r\n    const html = result;\r\n\r\n    // We set the page content as the generated html by handlebars\r\n    await page.setContent(html, {\r\n      waitUntil: 'networkidle0', // wait for page to load completely\r\n    });\r\n  } else {\r\n    await page.goto(file.url, {\r\n      waitUntil:[ 'load', 'networkidle0'], // wait for page to load completely\r\n    });\r\n  }\r\n\r\n  return Promise.props(page.pdf(options))\r\n    .then(async function(data) {\r\n       await browser.close();\r\n\r\n       return Buffer.from(Object.values(data));\r\n    }).asCallback(callback);\r\n}\r\n\r\nasync function generatePdfs(files, options, callback) {\r\n  // we are using headless mode\r\n  let args = [\r\n    '--no-sandbox',\r\n    '--disable-setuid-sandbox',\r\n  ];\r\n  if(options.args) {\r\n    args = options.args;\r\n    delete options.args;\r\n  }\r\n  const browser = await puppeteer.launch({\r\n    args: args\r\n  });\r\n  let pdfs = [];\r\n  const page = await browser.newPage();\r\n  for(let file of files) {\r\n    if(file.content) {\r\n      data = await inlineCss(file.content, {url:\"/\"})\r\n      console.log(\"Compiling the template with handlebars\")\r\n      // we have compile our code with handlebars\r\n      const template = hb.compile(data, { strict: true });\r\n      const result = template(data);\r\n      const html = result;\r\n      // We set the page content as the generated html by handlebars\r\n      await page.setContent(html, {\r\n        waitUntil: 'networkidle0', // wait for page to load completely\r\n      });\r\n    } else {\r\n      await page.goto(file.url, {\r\n        waitUntil: 'networkidle0', // wait for page to load completely\r\n      });\r\n    }\r\n    let pdfObj = JSON.parse(JSON.stringify(file));\r\n    delete pdfObj['content'];\r\n    pdfObj['buffer'] = Buffer.from(Object.values(await page.pdf(options)));\r\n    pdfs.push(pdfObj);\r\n  }\r\n\r\n  return Promise.resolve(pdfs)\r\n    .then(async function(data) {\r\n       await browser.close();\r\n       return data;\r\n    }).asCallback(callback);\r\n}\r\n\r\nmodule.exports.generatePdf = generatePdf;\r\nmodule.exports.generatePdfs = generatePdfs;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaHRtbC1wZGYtbm9kZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IsbUJBQU8sQ0FBQyw0QkFBVztBQUNyQyxjQUFjLG1CQUFPLENBQUMsc0VBQVU7QUFDaEMsV0FBVyxtQkFBTyxDQUFDLGdFQUFZO0FBQy9CLGtCQUFrQixtQkFBTyxDQUFDLDREQUFZO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFFBQVE7QUFDbEQ7QUFDQTtBQUNBLHdDQUF3QyxjQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBLDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2N1cmFjZWwtcGVvcGxlLy4vbm9kZV9tb2R1bGVzL2h0bWwtcGRmLW5vZGUvaW5kZXguanM/YzlhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwdXBwZXRlZXIgPSByZXF1aXJlKCdwdXBwZXRlZXInKTtcclxudmFyIFByb21pc2UgPSByZXF1aXJlKCdibHVlYmlyZCcpO1xyXG5jb25zdCBoYiA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKVxyXG5jb25zdCBpbmxpbmVDc3MgPSByZXF1aXJlKCdpbmxpbmUtY3NzJylcclxubW9kdWxlLmV4cG9ydHNcclxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQZGYoZmlsZSwgb3B0aW9ucywgY2FsbGJhY2spIHtcclxuICAvLyB3ZSBhcmUgdXNpbmcgaGVhZGxlc3MgbW9kZVxyXG4gIGxldCBhcmdzID0gW1xyXG4gICAgJy0tbm8tc2FuZGJveCcsXHJcbiAgICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICBdO1xyXG4gIGlmKG9wdGlvbnMuYXJncykge1xyXG4gICAgYXJncyA9IG9wdGlvbnMuYXJncztcclxuICAgIGRlbGV0ZSBvcHRpb25zLmFyZ3M7XHJcbiAgfVxyXG5cclxuICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7XHJcbiAgICBhcmdzOiBhcmdzXHJcbiAgfSk7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpO1xyXG5cclxuICBpZihmaWxlLmNvbnRlbnQpIHtcclxuICAgIGRhdGEgPSBhd2FpdCBpbmxpbmVDc3MoZmlsZS5jb250ZW50LCB7dXJsOlwiL1wifSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNvbXBpbGluZyB0aGUgdGVtcGxhdGUgd2l0aCBoYW5kbGViYXJzXCIpXHJcbiAgICAvLyB3ZSBoYXZlIGNvbXBpbGUgb3VyIGNvZGUgd2l0aCBoYW5kbGViYXJzXHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGhiLmNvbXBpbGUoZGF0YSwgeyBzdHJpY3Q6IHRydWUgfSk7XHJcbiAgICBjb25zdCByZXN1bHQgPSB0ZW1wbGF0ZShkYXRhKTtcclxuICAgIGNvbnN0IGh0bWwgPSByZXN1bHQ7XHJcblxyXG4gICAgLy8gV2Ugc2V0IHRoZSBwYWdlIGNvbnRlbnQgYXMgdGhlIGdlbmVyYXRlZCBodG1sIGJ5IGhhbmRsZWJhcnNcclxuICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChodG1sLCB7XHJcbiAgICAgIHdhaXRVbnRpbDogJ25ldHdvcmtpZGxlMCcsIC8vIHdhaXQgZm9yIHBhZ2UgdG8gbG9hZCBjb21wbGV0ZWx5XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXdhaXQgcGFnZS5nb3RvKGZpbGUudXJsLCB7XHJcbiAgICAgIHdhaXRVbnRpbDpbICdsb2FkJywgJ25ldHdvcmtpZGxlMCddLCAvLyB3YWl0IGZvciBwYWdlIHRvIGxvYWQgY29tcGxldGVseVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gUHJvbWlzZS5wcm9wcyhwYWdlLnBkZihvcHRpb25zKSlcclxuICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuXHJcbiAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oT2JqZWN0LnZhbHVlcyhkYXRhKSk7XHJcbiAgICB9KS5hc0NhbGxiYWNrKGNhbGxiYWNrKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQZGZzKGZpbGVzLCBvcHRpb25zLCBjYWxsYmFjaykge1xyXG4gIC8vIHdlIGFyZSB1c2luZyBoZWFkbGVzcyBtb2RlXHJcbiAgbGV0IGFyZ3MgPSBbXHJcbiAgICAnLS1uby1zYW5kYm94JyxcclxuICAgICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxyXG4gIF07XHJcbiAgaWYob3B0aW9ucy5hcmdzKSB7XHJcbiAgICBhcmdzID0gb3B0aW9ucy5hcmdzO1xyXG4gICAgZGVsZXRlIG9wdGlvbnMuYXJncztcclxuICB9XHJcbiAgY29uc3QgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2goe1xyXG4gICAgYXJnczogYXJnc1xyXG4gIH0pO1xyXG4gIGxldCBwZGZzID0gW107XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpO1xyXG4gIGZvcihsZXQgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgaWYoZmlsZS5jb250ZW50KSB7XHJcbiAgICAgIGRhdGEgPSBhd2FpdCBpbmxpbmVDc3MoZmlsZS5jb250ZW50LCB7dXJsOlwiL1wifSlcclxuICAgICAgY29uc29sZS5sb2coXCJDb21waWxpbmcgdGhlIHRlbXBsYXRlIHdpdGggaGFuZGxlYmFyc1wiKVxyXG4gICAgICAvLyB3ZSBoYXZlIGNvbXBpbGUgb3VyIGNvZGUgd2l0aCBoYW5kbGViYXJzXHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gaGIuY29tcGlsZShkYXRhLCB7IHN0cmljdDogdHJ1ZSB9KTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUoZGF0YSk7XHJcbiAgICAgIGNvbnN0IGh0bWwgPSByZXN1bHQ7XHJcbiAgICAgIC8vIFdlIHNldCB0aGUgcGFnZSBjb250ZW50IGFzIHRoZSBnZW5lcmF0ZWQgaHRtbCBieSBoYW5kbGViYXJzXHJcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChodG1sLCB7XHJcbiAgICAgICAgd2FpdFVudGlsOiAnbmV0d29ya2lkbGUwJywgLy8gd2FpdCBmb3IgcGFnZSB0byBsb2FkIGNvbXBsZXRlbHlcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBwYWdlLmdvdG8oZmlsZS51cmwsIHtcclxuICAgICAgICB3YWl0VW50aWw6ICduZXR3b3JraWRsZTAnLCAvLyB3YWl0IGZvciBwYWdlIHRvIGxvYWQgY29tcGxldGVseVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGxldCBwZGZPYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZpbGUpKTtcclxuICAgIGRlbGV0ZSBwZGZPYmpbJ2NvbnRlbnQnXTtcclxuICAgIHBkZk9ialsnYnVmZmVyJ10gPSBCdWZmZXIuZnJvbShPYmplY3QudmFsdWVzKGF3YWl0IHBhZ2UucGRmKG9wdGlvbnMpKSk7XHJcbiAgICBwZGZzLnB1c2gocGRmT2JqKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocGRmcylcclxuICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSkuYXNDYWxsYmFjayhjYWxsYmFjayk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmdlbmVyYXRlUGRmID0gZ2VuZXJhdGVQZGY7XHJcbm1vZHVsZS5leHBvcnRzLmdlbmVyYXRlUGRmcyA9IGdlbmVyYXRlUGRmcztcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/html-pdf-node/index.js\n");

/***/ })

};
;